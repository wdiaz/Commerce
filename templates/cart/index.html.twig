{% extends 'base.html.twig' %}

{% block title %}Cart index{% endblock %}

{% block body %}
    <section class="bg-white py-8 antialiased md:py-16">
        <div class="mx-auto max-w-screen-xl px-4 2xl:px-0">

            {% if (isCartEmpty) %}
                <h2 class="text-xl font-semibold text-gray-900 dark:text-black sm:text-2xl">Your Shopping Cart is Empty</h2>
                {% else %}
                    <h2 class="text-xl font-semibold text-gray-900 dark:text-black sm:text-2xl">Shopping Cart</h2>
            {% endif %}
            <div class="mt-6 sm:mt-8 md:gap-6 lg:flex lg:items-start xl:gap-8">
                <div class="mx-auto w-full flex-none lg:max-w-2xl xl:max-w-4xl">
                    {% set subtotal = 0 %}
                    {% if (isCartEmpty == false) %}
                    <div class="space-y-6">
                                {% for item in cart.cartItems %}
                                    {% set subtotal = subtotal + (item.price * item.quantity) %}
                                        <p>${{ item.price * item.quantity }}</p>
                                    <a href="{{ path('app_product_show', {'id': item.product.id, 'slug' : item.product.slug}) }}" class="text-base font-medium text-gray-900 hover:underline dark:text-gray">{{ item.product.name }}</a>
                                {% endfor %}


                    </div>
                    <!-- /item -->

                    <div class="rounded-lg border-bottom bg-white p-4 shadow-sm md:p-6">

                        <p class="text-xl font-semibold text-gray-900 dark:text-gray">Subtotal ({{ cart.cartItems.count }} items) : {{ subtotal }}</p>
                    </div>
                    {% endif %}
                    <div class="hidden xl:mt-8 xl:block">

                    </div>
                </div>

            </div>
        </div>
    </section>




{% endblock %}
